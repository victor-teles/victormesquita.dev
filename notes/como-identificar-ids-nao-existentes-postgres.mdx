---
title: Como identificar IDs n√£o existentes no Postgres
slug: como-identificar-ids-nao-existentes-postgres
type: snippet
date: Nov 06, 2024
published: true
---

Voc√™ j√° se deparou com a necessidade de identificar quais IDs de uma lista n√£o existem em uma tabela espec√≠fica no Postgres? Esse √© um cen√°rio comum, especialmente quando estamos sincronizando dados entre sistemas ou verificando inconsist√™ncias no banco de dados.

Neste post, vou compartilhar um snippet que utilizo para verificar se determinados dados est√£o ausentes na tabela üëá

```sql
SELECT
	id
FROM
--!ref Defina a lista de ids
	unnest(ARRAY ['123', 'id_nao_existe']) AS temp_ids (id)
WHERE
--!ref Realiza o cruzamento dos ids tempor√°rios com a tabela
	id NOT IN(SELECT "id" FROM "Tabela");
```

## Resultado

Supondo que a tabela Tabela contenha os seguintes dados:

| id  |
|-----|
| 123 |
| 456 |
| 789 |


Ao executar a consulta acima, o resultado ser√°:

|       id      |
|---------------|
| id_nao_existe |

Isso significa que o ID `id_nao_existe` n√£o est√° presente na tabela Tabela.
